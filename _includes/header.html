<header>
  <div class="sticky-top" style="position: -webkit-sticky; position: sticky;">
      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm {% if site.navbar_fixed %}fixed-top{% else %}sticky-top{% endif %}">
      <div class="container">
        {% if page.title == "about" and site.enable_navbar_social %}
          <!-- Social Icons -->
          <div class="navbar-brand social">
            {% include social.html %}
          </div>
        {% else %}
          <a class="navbar-brand title font-weight-lighter" href="{{ site.baseurl | prepend: site.url }}/">
            {% if site.title == "blank" %}
              <span class="font-weight-bold">{{ site.first_name }}</span> {{ site.middle_name }}  {{ site.last_name }}
            {% else %}
              {{ site.title }}
            {% endif %}
          </a>
        {% endif %}
        <!-- Navbar Toggle -->
        <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar top-bar"></span>
          <span class="icon-bar middle-bar"></span>
          <span class="icon-bar bottom-bar"></span>
        </button>
        <div class="collapse navbar-collapse text-right" id="navbarNav">
          <ul class="navbar-nav ml-auto flex-nowrap">
            <!-- Search box -->
            <li class="nav-item">
              <div class="search-input-wrap" style="height: 100%">
                <!-- input field -->
                <input type="text" id="search-input" class="search-input" style="border: hidden; border-radius: .5rem; height: 100%; background: var(--global-bg-color); color: var(--global-text-color);" tabindex="0" placeholder="Search..." aria-label="Search..." autocomplete="off">
                  <label/>
                </input>
                <!-- search icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="feather feather-search search-button-icon" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="padding:bottom: .25rem; height:100%; width: 1rem;">
                  <circle cx="11" cy="11" r="8"></circle>
                  <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
              </div>
              <!-- search results -->
              <div id="search-results" class="search-results">
              </div>
            </li>
            <!-- About -->
            <!-- <li class="nav-item {% if page.title == 'about' %}active{% endif %}">
              <a class="nav-link" href="{{ '/' | relative_url }}">
                about
                {% if page.title == "about" %}
                  <span class="sr-only">(current)</span>
                {% endif %}
              </a>
            </li> -->
            {% if site.blog_name %}
            <!-- Blog -->
            <li class="nav-item {% if page.url contains 'blog' %}active{% endif %}">
              <a class="nav-link" href="{{ '/blog/' | relative_url }}">
                blog
                {% if page.title == "blog" %}
                <span class="sr-only">(current)</span>
                {% endif %}
              </a>
            </li>
            {% endif %}
            <!-- Other pages -->
            {% assign sorted_pages = site.pages | sort: "title" %}
            {% for p in sorted_pages %}
            {% if p.nav and p.autogen == nil %}
            {% if p.dropdown %}
            <li class="nav-item dropdown {% if page.title == p.title %}active{% endif %}">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  {{ p.title }}
                  {% if page.title == p.title %}
                  <span class="sr-only">(current)</span>
                  {% endif %}
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                {% for child in p.children %}
                {% if child.title == 'divider' %}
                  <div class="dropdown-divider"></div>
                {% else %}
                  <a class="dropdown-item" href="{{ child.permalink | relative_url }}">{{ child.title }}</a>
                {% endif %}
                {% endfor %}
                </div>
            </li>
            {% else %}
            <li class="nav-item {% if page.title == p.title %}active{% endif %}">
                <a class="nav-link" href="{{ p.url | relative_url }}">
                  {{ p.title }}
                  {% if page.title == p.title %}
                  <span class="sr-only">(current)</span>
                  {% endif %}
                </a>
            </li>
            {% endif %}
            {% endif %}
            {% endfor %}
            {% if site.enable_darkmode %}
              <div class = "toggle-container">
                <a id = "light-toggle">
                    <i class="fas fa-moon"></i>
                    <i class="fas fa-sun"></i>
                </a>
              </div>
            {% endif %}
          </ul>
        </div>
      </div>
      <br />
      <!-- Scrolling Progress Bar -->
      <div class="progress-container sticky-top">
         <div class="progress-bar" id="myBar"></div>
      </div>
    </nav>
   </div>

  <!-- Back to top button -->
  <button class="back-to-top">
    <svg xmlns="http://www.w3.org/2000/svg" class="back-to-top-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" >
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11l5-5m0 0l5 5m-5-5v12" />
    </svg>
  </button>

 <!-- Search Button -->
 <button class="search-button">
   <svg xmlns="http://www.w3.org/2000/svg" class="search-button-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
     <circle cx="11" cy="11" r="8"></circle>
     <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
   </svg>
 </button>


  <!-- Javascript for Progress Bar -->
  <script type="text/javascript">
    window.onscroll = function() {myFunction()};

    function myFunction() {
      var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      var scrolled = (winScroll / height) * 100;
      document.getElementById("myBar").style.width = scrolled + "%";
    }
  </script>

  <!-- Javacript for search button -->
  <!--<script type="text/javascript" src="{{ '/assets/js/vendor/lunr.min.js' | relative_url }}">
  </script>-->

  <!-- Javascript for back to top button -->
  <script type="text/javascript">
    const backToTopButton = document.querySelector(".back-to-top")

    const goToTop = () => {
      document.body.scrollIntoView({
        behavior: "smooth",
      });
    };

    backToTopButton.addEventListener("click", goToTop)
  </script>
</header>
