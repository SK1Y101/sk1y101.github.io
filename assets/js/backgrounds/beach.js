function today(t){var o=t.getDate(),i=t.getMonth()+1;return o<10&&(o="0"+o),i<10&&(i="0"+i),o+"/"+i}function lerp(t,o,i){return t+(o-t)*i}function drawSky(){const t=.7*height,o=bgCtx.createLinearGradient(0,0,0,t);o.addColorStop(0,"#0b0033"),o.addColorStop(.1,"#2e1a47"),o.addColorStop(.4,"#ff758c"),o.addColorStop(.7,"#ffd580"),o.addColorStop(.9,"#fff1a8"),o.addColorStop(1,"#ffe4b5"),bgCtx.fillStyle=o,bgCtx.fillRect(0,0,width,t)}function drawSea(){const t=.7*height,o=bgCtx.createLinearGradient(0,t,0,height);o.addColorStop(0,"#98f5e1"),o.addColorStop(.3,"#56cfe1"),o.addColorStop(.6,"#2d6cdf"),o.addColorStop(1,"#0b1a40"),bgCtx.fillStyle=o,bgCtx.fillRect(0,t,width,height-t)}function drawWaves(){const t=4,o=40,i=.001*performance.now();bgCtx.save(),bgCtx.globalAlpha=.5;for(let a=0;a<t;a++){const t=.02+.03*Math.random(),a=Math.random()*o+10,e=Math.random()*Math.PI*2;bgCtx.beginPath();for(let o=0;o<width;o++){const s=.6*height+Math.sin(o*t+i+e)*a;bgCtx.lineTo(o,s)}const s=bgCtx.createLinearGradient(0,.6*height,0,height);s.addColorStop(0,"rgba(255, 255, 255, 0.2)"),s.addColorStop(1,"rgba(0, 120, 180, 0.6)"),bgCtx.strokeStyle=s,bgCtx.lineWidth=2,bgCtx.stroke()}bgCtx.restore()}function drawShimmerEffect(){const t=width/2,o=50,i=200,a=.6*height+10;bgCtx.save(),bgCtx.globalAlpha=.5;for(let e=0;e<o;e++){const s=.05*(e-o/2),r=t+Math.cos(s)*i,h=a+Math.sin(s)*i,n=t+Math.cos(s+Math.PI)*i,d=a+Math.sin(s+Math.PI)*i,l=bgCtx.createLinearGradient(r,h,n,d);l.addColorStop(0,"rgba(255, 215, 0, 0.7)"),l.addColorStop(1,"rgba(255, 215, 0, 0.1)"),bgCtx.strokeStyle=l,bgCtx.lineWidth=2,bgCtx.beginPath(),bgCtx.moveTo(r,h),bgCtx.lineTo(n,d),bgCtx.stroke()}bgCtx.restore()}function drawSun(){const t=width/2,o=.6*height,i=40,a=bgCtx.createRadialGradient(t,o,0,t,o,2.5*i);a.addColorStop(0,"rgba(255, 255, 220, 0.9)"),a.addColorStop(.6,"rgba(252, 252, 210, 0.7)"),a.addColorStop(.8,"rgba(255, 255, 150, 0.6)"),a.addColorStop(1,"rgba(255, 215, 0, 0)"),bgCtx.fillStyle=a,bgCtx.beginPath(),bgCtx.arc(t,o,2.5*i,0,2*Math.PI),bgCtx.fill()}function Cloud(){this.x=Math.random()*width,this.y=.35*height+(Math.random()**1.6-.5)*height*.35,this.size=40*Math.random()+40,this.speed=.1*Math.random()+.05,this.puffs=[];const t=Math.floor(30*Math.random())+30,o=2.5*this.size;this.buffer=document.createElement("canvas"),this.buffer.width=o,this.buffer.height=o;const i=this.buffer.getContext("2d");i.shadowColor="rgba(255, 255, 255, 0.3)",i.shadowBlur=30;for(let a=0;a<t;a++){const t=Math.random()*Math.PI*2,a=Math.random()*(this.size/2),e=o/2+Math.cos(t)*a,s=o/2+Math.sin(t)*a,r=this.size/3+6*Math.random(),h=this.size/4+4*Math.random(),n=.3+.3*Math.random();i.fillStyle=`rgba(255, 255, 255, ${n})`,i.beginPath(),i.ellipse(e,s,r,h,0,0,2*Math.PI),i.fill(),this.puffs.push({x:e,y:s,rx:r,ry:h})}}function Bubble(){this.x=Math.random()*width,this.y=Math.random()*height,this.radius=20*Math.random()+5,this.speedX=-(.5*Math.random()+.1),this.offset=1e3*Math.random(),this.hueShift=360*Math.random()}function ShootingStar(){this.reset(-200)}function Star(t,o,i,a,e=!1){this.x=t||Math.random()*width,this.y=o||Math.random()*height*.3,this.size=i||2*Math.random()+.1,this.colour=a||starColour[Math.floor(Math.random()*starColour.length)],this.isConstellation=e}function drawConstellationLines(t,o){bgCtx.beginPath(),o.forEach(o=>{const i=t[o.from],a=t[o.to];bgCtx.moveTo(i.x,i.y),bgCtx.lineTo(a.x,a.y)}),bgCtx.strokeStyle="rgba(255, 255, 255, 0.8)",bgCtx.lineWidth=1.5,bgCtx.stroke()}function animate(){const t=performance.now();drawSky();for(let t of stars)t.update();drawConstellationLines(orionStars,orionConnections),drawConstellationLines(cassiopeiaStars,cassiopeiaConnections),drawSea(),drawWaves(),drawShimmer(),drawSun();for(let t of shootingstars)t.update();for(let t of clouds)t.update();for(let o of bubbles)o.update(t);requestAnimFrame(animate)}var requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},background=document.getElementById("bgCanvas"),bgCtx=background.getContext("2d"),width=window.innerWidth,height=document.body.offsetHeight;height<400&&(height=400),height=1080,width=1920;const starColour=["white","floralWhite","aliceBlue","powderBlue","azure","moccasin","sandyBrown","peachPuff"];Cloud.prototype.update=function(){this.x-=this.speed,this.x<-this.buffer.width&&(this.x=width+this.buffer.width,this.y=.35*height+(Math.random()**1.6-.5)*height*.35),bgCtx.globalAlpha=.7,bgCtx.drawImage(this.buffer,this.x,this.y-this.buffer.height/2)},Bubble.prototype.update=function(t){if(isFinite(this.x)&&isFinite(this.y)&&isFinite(this.radius)){this.y+=.3*Math.sin(.002*(t+this.offset)),this.x+=this.speedX,this.x<-this.radius&&(this.x=width+this.radius,this.y=Math.random()*height);const o=bgCtx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius);o.addColorStop(0,"rgba(255, 255, 255, 0.05)"),o.addColorStop(.4,`hsla(${this.hueShift}, 80%, 85%, 0.12)`),o.addColorStop(.7,`hsla(${(this.hueShift+120)%360}, 90%, 75%, 0.18)`),o.addColorStop(1,`hsla(${(this.hueShift+240)%360}, 100%, 80%, 0.4)`),bgCtx.save(),bgCtx.globalCompositeOperation="lighter",bgCtx.fillStyle=o,bgCtx.beginPath(),bgCtx.arc(this.x,this.y,this.radius,0,2*Math.PI),bgCtx.fill(),bgCtx.restore(),bgCtx.fillStyle="rgba(255, 255, 255, 0.25)",bgCtx.beginPath(),bgCtx.arc(this.x+this.radius/3,this.y-this.radius/3,this.radius/6,0,2*Math.PI),bgCtx.fill()}else console.error("Invalid bubble parameters:",this.x,this.y,this.radius)},ShootingStar.prototype.update=function(){if(bottom=.6*height,this.active)if(this.x-=this.speed,this.y+=this.speed,this.x<-this.len||this.y>=height+this.len)this.speed=0,this.reset();else{const t=this.x,o=this.y,i=this.x+this.len,a=this.y-this.len;if(o<bottom||a<bottom){let e=t,s=o,r=i,h=a;if(o>bottom){e=i+(t-i)*((bottom-a)/(o-a)),s=bottom}if(a>bottom){r=t+(i-t)*((bottom-o)/(a-o)),h=bottom}bgCtx.strokeStyle=this.colour,bgCtx.lineWidth=this.size,bgCtx.beginPath(),bgCtx.moveTo(e,s),bgCtx.lineTo(r,h),bgCtx.stroke()}}else this.waitTime<(new Date).getTime()&&(this.active=!0)},ShootingStar.prototype.reset=function(t="0"){var o=Math.random()*(width+height);this.y=Math.max(0,o-width),this.x="0"==t?Math.min(width,o):t,this.len=80*Math.random()+10,this.size=1*Math.random()+.1,this.speed=10*Math.random()+5,this.colour=starColour[Math.floor(Math.random()*starColour.length)],this.waitTime=(new Date).getTime()+2e4*Math.random(),this.active=!1},Star.prototype.update=function(){this.size=Math.max(.1,Math.min(2,this.size+.1*Math.random()-.05)),bgCtx.fillStyle=this.colour,bgCtx.fillRect(this.x,this.y,this.size,this.size),this.drawGlow()},Star.prototype.drawGlow=function(){this.isConstellation&&(bgCtx.save(),bgCtx.globalAlpha=.6,bgCtx.shadowColor=this.colour,bgCtx.shadowBlur=15,bgCtx.fillStyle=this.colour,bgCtx.beginPath(),bgCtx.arc(this.x,this.y,1.5*this.size,0,2*Math.PI),bgCtx.fill(),bgCtx.restore())},background.width=width,background.height=height;for(var stars=[],shootingstars=[],clouds=[],bubbles=[],i=15;i>0;i--)clouds.push(new Cloud);for(i=30;i>0;i--)bubbles.push(new Bubble);for(i=10;i>0;i--)shootingstars.push(new ShootingStar);for(i=400;i>0;i--)stars.push(new Star);const orionX=2e3,orionY=200,orionH=-8,orionW=orionH,orionStars=[new Star(orionX+83.63*orionW,orionY+7.407*orionH,2,"sandyBrown",!0),new Star(orionX+81.28*orionW,orionY+6.349*orionH,1.8,"powderBlue",!0),new Star(orionX+84.05*orionW,orionY+-1.194*orionH,1.5,"aliceBlue",!0),new Star(orionX+83*orionW,orionY+-.299*orionH,1.3,"aliceBlue",!0),new Star(orionX+86.95*orionW,orionY+-9.278*orionH,1.7,"azure",!0),new Star(orionX+80.13*orionW,orionY+-8.201*orionH,1.6,"powderBlue",!0),new Star(orionX+85.11*orionW,orionY+-1.942*orionH,1.4,"azure",!0),new Star(orionX+77.33*orionW,orionY+4.817*orionH,1.2,"white",!0)],cassX=200,cassY=600,cassH=-8,cassW=cassH,cassiopeiaStars=[new Star(cassX+.959*cassW,cassY+56.53*cassH,1.8,"moccasin",!0),new Star(cassX+1.597*cassW,cassY+59.12*cassH,1.7,"aliceBlue",!0),new Star(cassX+1.777*cassW,cassY+56.53*cassH,1.5,"powderBlue",!0),new Star(cassX+2.296*cassW,cassY+60.72*cassH,1.4,"floraWhite",!0),new Star(cassX+1.842*cassW,cassY+61.57*cassH,1.6,"azure",!0)];for(let t of orionStars)stars.push(t);for(let t of cassiopeiaStars)stars.push(t);const orionConnections=[{from:0,to:1},{from:0,to:6},{from:0,to:7},{from:1,to:3},{from:1,to:7},{from:2,to:3},{from:2,to:6},{from:3,to:5},{from:4,to:6}],cassiopeiaConnections=[{from:0,to:1},{from:0,to:2},{from:2,to:3},{from:3,to:4}];animate();