function RainDrop(){this.reset()}function DripDrop(){this.reset()}function animate(){bgCtx.fillStyle="#110E19",bgCtx.fillRect(0,0,width,height),bgCtx.fillStyle="#ffffff",bgCtx.strokeStyle="#ffffff",Math.random()<.002&&lightningTimer<=0&&(lightningTimer=5+Math.floor(5*Math.random()),lightningOpacity=.6+.3*Math.random()),lightningTimer>0&&(bgCtx.fillStyle=`rgba(255, 255, 255, ${lightningOpacity})`,bgCtx.fillRect(0,0,width,height),lightningTimer--,lightningOpacity*=.6);for(let t of entities)t.update();fogOffset+=.05,bgCtx.globalAlpha=.1,bgCtx.drawImage(fogCanvas,fogOffset%width-width,0),bgCtx.drawImage(fogCanvas,fogOffset%width,0),bgCtx.globalAlpha=1,reflections.forEach(t=>{let i=bgCtx.createRadialGradient(t.x,t.y,0,t.x,t.y,t.radius);i.addColorStop(0,`rgba(255, 255, 255, ${t.opacity})`),i.addColorStop(1,"rgba(255, 255, 255, 0)"),bgCtx.fillStyle=i,bgCtx.beginPath(),bgCtx.arc(t.x,t.y,t.radius,0,2*Math.PI),bgCtx.fill()}),requestAnimFrame(animate)}var requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},background=document.getElementById("bgCanvas"),bgCtx=background.getContext("2d"),width=window.innerWidth,height=document.body.offsetHeight;height<400&&(height=400),height=1080,width=1920,RainDrop.prototype.reset=function(){const t=.2,i=.5;this.x=width*(Math.random()*(t+1)-t),this.y=height*(Math.random()*(i+1)-i),this.length=20+20*Math.random(),this.speed=4+4*Math.random(),this.opacity=.1+.3*Math.random()},RainDrop.prototype.update=function(){this.y+=this.speed,this.x+=.3*this.speed,this.y>height&&this.reset(),this.draw()},RainDrop.prototype.draw=function(){bgCtx.beginPath(),bgCtx.moveTo(this.x,this.y),bgCtx.lineTo(this.x-2,this.y-this.length),bgCtx.strokeStyle=`rgba(255, 255, 255, ${this.opacity})`,bgCtx.lineWidth=1,bgCtx.stroke()},DripDrop.prototype.reset=function(){this.x=Math.random()*width,this.y=Math.random()*height,this.length=8+15*Math.random(),this.speed=.5+1.5*Math.random(),this.opacity=.1+.15*Math.random()},DripDrop.prototype.update=function(){this.y+=this.speed,this.y>height&&this.reset(),this.draw()},DripDrop.prototype.draw=function(){bgCtx.beginPath(),bgCtx.moveTo(this.x,this.y),bgCtx.lineTo(this.x,this.y-this.length),bgCtx.strokeStyle=`rgba(255, 255, 255, ${this.opacity})`,bgCtx.lineWidth=1,bgCtx.stroke()};var fogCanvas=document.createElement("canvas");fogCanvas.width=width,fogCanvas.height=height;var fogCtx=fogCanvas.getContext("2d");for(let t=0;t<200;t++){let t=Math.random()*width,i=Math.random()*height,e=100+100*Math.random(),a=.01+.03*Math.random();fogCtx.beginPath(),fogCtx.arc(t,i,e,0,2*Math.PI),fogCtx.fillStyle=`rgba(255, 255, 255, ${a})`,fogCtx.fill()}let fogOffset=0;background.width=width,background.height=height,bgCtx.fillStyle="#110E19",bgCtx.fillRect(0,0,width,height);var lightningTimer=0,lightningOpacity=0,entities=[],reflections=[];for(let t=0;t<5;t++)reflections.push({x:Math.random()*width,y:Math.random()*height*.5,radius:40+60*Math.random(),opacity:.03+.05*Math.random()});for(var i=0;i<300;i++)entities.push(new RainDrop);for(i=0;i<100;i++)entities.push(new DripDrop);animate();