function today(t){var i=t.getDate(),e=t.getMonth()+1;return i<10&&(i="0"+i),e<10&&(e="0"+e),i+"/"+e}function Star(){this.size=2*Math.random()+.1,this.x=Math.random()*width,this.y=Math.random()*height,this.colour=starColour[Math.floor(Math.random()*starColour.length)]}function ShootingStar(t=!1){this.special=t,this.reset(-200)}function Satellite(){this.y=Math.random()*height,this.x=Math.random()*width,this.speed=.29*Math.random()+.01,this.size=2*Math.random()+.1,this.colour="white",this.waitTime=(new Date).getTime(),this.active=!0}function animate(){isSpecialDate=-1!=specialDates.indexOf(today(new Date)),bgCtx.fillStyle="#110E19",bgCtx.fillRect(0,0,width,height),bgCtx.fillStyle="#ffffff",bgCtx.strokeStyle="#ffffff";for(var t=entities.length;t--;)entities[t].update();requestAnimFrame(animate)}var requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},background=document.getElementById("bgCanvas"),bgCtx=background.getContext("2d"),width=window.innerWidth,height=document.body.offsetHeight;height<400&&(height=400),height=1080,width=1920,background.width=width,background.height=height,bgCtx.fillStyle="#110E19",bgCtx.fillRect(0,0,width,height);const starColour=["white","floralWhite","aliceBlue","powderBlue","azure","moccasin","sandyBrown","peachPuff"];Star.prototype.update=function(){this.size=Math.max(.1,Math.min(2,this.size+.1*Math.random()-.05)),bgCtx.fillStyle=this.colour,bgCtx.fillRect(this.x,this.y,this.size,this.size)},ShootingStar.prototype.update=function(){this.active?(this.x-=this.speed,this.y+=this.speed,this.x<-this.len||this.y>=height+this.len?(this.speed=0,this.special?isSpecialDate&&this.reset():this.reset()):(bgCtx.fillStyle=this.colour,bgCtx.strokeStyle=this.colour,bgCtx.lineWidth=this.size,bgCtx.beginPath(),bgCtx.moveTo(this.x,this.y),bgCtx.lineTo(this.x+this.len,this.y-this.len),bgCtx.stroke())):this.waitTime<(new Date).getTime()&&(this.active=!0)},Satellite.prototype.update=function(){this.active?(this.x-=this.speed,this.x<0?this.reset():(bgCtx.fillStyle=this.colour,bgCtx.fillRect(this.x,this.y,this.size,this.size))):this.waitTime<(new Date).getTime()&&(this.active=!0)},ShootingStar.prototype.reset=function(t="0"){var i=Math.random()*(width+height);this.y=Math.max(0,i-width),this.x="0"==t?Math.min(width,i):t,this.len=80*Math.random()+10,this.size=1*Math.random()+.1,this.speed=10*Math.random()+5,this.colour=starColour[Math.floor(Math.random()*starColour.length)],this.waitTime=(new Date).getTime()+2e4*Math.random(),this.active=!1},Satellite.prototype.reset=function(){this.y=Math.random()*height,this.x=width,this.speed=.19*Math.random()+.01,this.size=2*Math.random()+.1,this.colour="white",this.waitTime=(new Date).getTime()+2e4*Math.random(),this.active=!1};for(var specialDates=["27/07","12/08","23/08","04/09","26/10"],isSpecialDate=!1,entities=[],i=height;i>0;i--)entities.push(new Star);for(i=10;i>0;i--)entities.push(new Satellite);for(i=1;i>0;i--)entities.push(new ShootingStar);for(i=20;i>0;i--)entities.push(new ShootingStar(!0));animate();